<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Schema Line Plot — GitHub Pages</title>
  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="stylesheet" href="styles.css">
  <style>
    :root { --bg:#0b1020; --fg:#e6f0ff; --muted:#9fb3c8; --accent:#7aa2ff; }
    *{box-sizing:border-box} body{margin:0;background:var(--bg);color:var(--fg);font-family:system-ui,Segoe UI,Roboto,Apple SD Gothic Neo,Apple Color Emoji,EmojiOne Color,Segoe UI Emoji,sans-serif}
    header{padding:16px 20px;border-bottom:1px solid #1a2240;display:flex;gap:12px;flex-wrap:wrap;align-items:center}
    header h1{font-size:18px;margin:0;font-weight:700}
    .toolbar{display:flex;gap:10px;align-items:center;margin-left:auto}
    select,button{background:#121a33;color:var(--fg);border:1px solid #223057;border-radius:10px;padding:8px 10px;font-size:14px}
    button:hover,select:hover{border-color:#2f4b8a}
    .container{padding:16px}
    .chart-wrap{background:#0e1530;border:1px solid #1a2240;border-radius:16px;overflow:hidden}
    svg{width:100%;height:70vh;display:block;background:radial-gradient(1200px 800px at 70% -10%, #142044 0%, #0b1020 40%)}
    .grid line{stroke:#1f2a4d;stroke-opacity:.65}
    .grid path{stroke:none}
    .point{fill:var(--fg);opacity:.9}
    .point.dim{opacity:.25}
    .schema-line{fill:none;stroke:var(--accent);stroke-width:2px;opacity:.95}
    .schema-line.dim{opacity:.2}
    .hint{color:var(--muted);padding:10px 2px;font-size:13px}
    .legend{display:flex;gap:10px;flex-wrap:wrap;margin-top:6px}
    .badge{padding:4px 8px;border:1px solid #2a3a6a;border-radius:999px;font-size:12px;cursor:pointer}
    .badge.active{background:#182758}
    .tooltip{position:fixed;pointer-events:none;background:#121a33;border:1px solid #2a3a6a;padding:8px 10px;border-radius:10px;font-size:12px;line-height:1.3; color:var(--fg); z-index:10; display:none; white-space:nowrap}
  </style>
</head>
<body>
  <header>
    <h1>Schema Line Plot</h1>
    <div class="toolbar">
      <label>
        스키마 선택:
        <select id="schemaSelect"></select>
      </label>
      <button id="toggleAll">모두 보기</button>
      <button id="downloadPNG">PNG로 저장</button>
      <button id="resetView">뷰 초기화</button>
    </div>
  </header>

  <div class="container">
    <div class="hint">• 마우스 드래그로 패닝, 휠로 줌(Shift+휠: Y만 확대/축소). 점에 올리면 툴팁이 나타납니다.</div>
    <div class="chart-wrap">
      <svg id="chart" viewBox="0 0 1200 800" preserveAspectRatio="xMidYMid meet" aria-label="schema line plot"></svg>
    </div>
    <div class="legend" id="legend"></div>
  </div>

  <div class="tooltip" id="tooltip"></div>

  <script src="https://cdn.jsdelivr.net/npm/d3@7"></script>
  <script src="app.js"></script>
</body>
</html>
